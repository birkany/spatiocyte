AC_REVISION([$Id$])
dnl
AC_INIT
AC_CONFIG_SRCDIR([autogen.sh])
dnl AC_CONFIG_AUX_DIR()
dnl
dnl 
dnl 
ECELL_MAJOR_VERSION=3
ECELL_MINOR_VERSION=1
ECELL_MICRO_VERSION=104
VERSION=$ECELL_MAJOR_VERSION.$ECELL_MINOR_VERSION.$ECELL_MICRO_VERSION
PACKAGE=ecell
dnl
AC_CANONICAL_TARGET([])
AM_INIT_AUTOMAKE($PACKAGE, $VERSION, do-not-define)
AC_PROG_MAKE_SET
dnl
dnl
dnl AC_LIBLTDL_INSTALLABLE
AC_LIBLTDL_CONVENIENCE
AC_SUBST(INCLTDL)
AC_SUBST(LIBLTDL)
AC_LIBTOOL_DLOPEN
AC_PROG_LIBTOOL
dnl
dnl
AC_CONFIG_SUBDIRS( libltdl ecell bin dmtool )
dnl
dnl
AC_ARG_WITH(gtk,
  AC_HELP_STRING([--without-gtk],
               [build ecell without gtk library.]),
  [ECELL_SUBDIR="libltdl bin dmtool ecell"]
  NOGTK=1,
  [ECELL_SUBDIR="libltdl bin dmtool ecell osogo toollauncher"
  NOGTK=0
  AC_CONFIG_SUBDIRS(osogo)
  AC_CONFIG_SUBDIRS(toollauncher)]
)
dnl
AC_ARG_ENABLE(modeleditor,
  AC_HELP_STRING([--disable-modeleditor],
               [disable the modeleditor.]),
  if test $NOGTK = 1
  then
        test
  else
        [ECELL_SUBDIR="libltdl bin dmtool ecell osogo toollauncher"]
  fi,
  if test $NOGTK = 1
  then
        test
  else
        [ECELL_SUBDIR="libltdl bin dmtool ecell osogo modeleditor toollauncher"
        AC_CONFIG_SUBDIRS(modeleditor)]
  fi
)
dnl
AC_SUBST(ECELL_SUBDIR)
dnl
dnl
dnl
dnl
AC_ARG_WITH( boost-root-dir,
  AC_HELP_STRING([--with-boost-root-dir=],
               [specify a non-standard root installation directory for boost library.]) )
dnl
dnl
AC_ARG_ENABLE( compiler-extensions,
	       AC_HELP_STRING([--disable-compiler-extensions],
	       [Don't exploit the compiler's special language syntax and optimizations that are not part of the standard (such as ISO C++).] ) )
dnl	       
dnl
AM_CONFIG_HEADER([ecell3_config.h])
dnl
dnl
dnl Create the top-level Makefile.
dnl
AC_CONFIG_FILES([Makefile])

AC_OUTPUT(ecell3.doxy)

